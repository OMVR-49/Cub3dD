/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ojebbari <ojebbari@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/02/23 13:39:27 by ojebbari          #+#    #+#             */
/*   Updated: 2024/03/26 11:35:16 by ojebbari         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "Cub3d.h"

int	ft_error(int x)
{
	if (x == 1)
		perror("Invalid Argumentss");
	else if (x == 2)
		perror("");
	else if (x == 3)
		perror("");
	exit(x);
}

// void	test(t_map **map)
// {
// 	int i = 0;
// 	(*map) = ft_malloc(sizeof(t_map));
// 	(*map)->grid = ft_malloc(30 * sizeof(char *));
// 	while (i < 30)
// 	{
// 		(*map)->grid[i] = ft_malloc(30 * sizeof(char));
// 		i++;
// 	}
// 	(*map)->grid[0] = "111111111111111111111111111111";
// 	(*map)->grid[1] = "100000000000000000000000000001";
// 	(*map)->grid[2] = "100000000000000000000000000001";
// 	(*map)->grid[3] = "100000000000000000000000000001";
// 	(*map)->grid[4] = "100000000000000000000000000001";
// 	(*map)->grid[5] = "100000000000000000000000000001";
// 	(*map)->grid[6] = "100000000000000000000000000001";
// 	(*map)->grid[7] = "100000000000000000000000000001";
// 	(*map)->grid[8] = "100000000000000000000000000001";
// 	(*map)->grid[9] = "100000000000000000000000000001";
// 	(*map)->grid[10] = "100000000000000000000000000001";
// 	(*map)->grid[11] = "100000000000000000000000000001";
// 	(*map)->grid[12] = "100000000000000000000000000001";
// 	(*map)->grid[13] = "100000000000000000000000000001";
// 	(*map)->grid[14] = "100000000000000000000000000001";
// 	(*map)->grid[15] = "100000000000000000000000000001";
// 	(*map)->grid[16] = "100000000000000000000000000001";
// 	(*map)->grid[17] = "100000000000000000000000000001";
// 	(*map)->grid[18] = "100000000000000000000000000001";
// 	(*map)->grid[19] = "100000000000000000000000000001";
// 	(*map)->grid[20] = "100000000000000000000000000001";
// 	(*map)->grid[21] = "100000000000000000000000000001";
// 	(*map)->grid[22] = "100000000000000000000000000001";
// 	(*map)->grid[23] = "100000000000000000000000000001";
// 	(*map)->grid[24] = "100000000000000000000000000001";
// 	(*map)->grid[25] = "100000000000000000000000000001";
// 	(*map)->grid[26] = "100000000000000000000000000001";
// 	(*map)->grid[27] = "100000000000000000000000000001";
// 	(*map)->grid[28] = "100000000000000000000000000001";
// 	(*map)->grid[29] = "111111111111111111111111111111";
// 	(*map)->num_cols = 30;
// 	(*map)->num_rows = 30;
// 	(*map)->f = ft_malloc(4 * sizeof(int *));
// 	(*map)->c = ft_malloc(4 * sizeof(int *));
// 	(*map)->f[0] = 0;
// 	(*map)->f[1] = 0;
// 	(*map)->f[2] = 0;
// 	(*map)->f[3] = 0;
// 	(*map)->c[0] = 0;
// 	(*map)->c[1] = 0;
// 	(*map)->c[2] = 0;
// 	(*map)->c[3] = 0;
// 	(*map)->player_rotation_start = 'N';
// 	(*map)->player_x = 15;
// 	(*map)->player_y = 15;
// }
int	main(int ac, char **av)
{
	mlx_image_t	*img;
	t_map		*map;
	mlx_t		*mlx;

	if (ac == 2)
	{
		map = parsing(ac, av);
		if (map)
		{
			mlx_set_setting(0, true);
			mlx = mlx_init(WIDTH, HEIGHT, "MLX42", true);
			img = mlx_new_image(mlx, WIDTH, HEIGHT);
			raycasting(map, mlx, img);
		}
	}
	else
		ft_error(1);
	mlx_terminate(mlx);
}
